@mixin typo(
  $_font-size,
  $_font-family,
  $_text-transform: none,
  $_font-weight: 400,
  $_line-height: 1.5,
  $_font-size-base: $global-font-size,
  $_margin: 0
) {
  font-family: $_font-family;
  font-size: $_font-size;
  font-weight: $_font-weight;
  line-height: $_line-height;
  text-transform: $_text-transform;
  margin: $_margin;
}

// create typo templates 'display sizes'
$typo-display-fontsize-list: (3.5rem, 4.5rem, 5.5rem, 6rem);

@for $i from 1 through (length($typo-display-fontsize-list)) {
  %typo-display-#{$i} {
    @include typo(nth($typo-display-fontsize-list, $i), 'Teko');
  }

  // test
  .#{$prefix}typo--display-#{$i} {
    @extend %typo-display-#{$i};
  }
}

// create typo templates 'normal sizes'
$typo-normal-fontsize-list: (
  0.75rem,
  0.875rem,
  1rem,
  1.25rem,
  1.5rem,
  1.75rem,
  2.25rem,
  2.5rem
);

@for $i from 1 through (length($typo-normal-fontsize-list)) {
  %typo-normal-#{$i} {
    $_font-size: nth($typo-normal-fontsize-list, $i);
    $_font-family: if(strip-unit($_font-size) <= 1, 'Roboto', 'Teko');
    @include typo($_font-size, $_font-family);
  }

  // dev dummy - TODO: remove for production
  .#{$prefix}typo--normal-#{$i} {
    @extend %typo-normal-#{$i};
  }
}

// create typo templates 'special sizes'
$typo-special-fontsize-list: (0.75rem, 0.875rem, 1rem, 1.5rem);

@for $i from 1 through (length($typo-special-fontsize-list)) {
  %typo-special-#{$i} {
    $_font-size: nth($typo-special-fontsize-list, $i);
    $_font-family: if(strip-unit($_font-size) < 1, 'Roboto', 'Teko');
    @include typo($_font-size, $_font-family, uppercase);
  }

  // dev dummy - TODO: remove for production
  .#{$prefix}typo--special-#{$i} {
    @extend %typo-special-#{$i};
  }
}

/// @param {String} $type - display / normal / special
/// @param {int} $id - typeset id (gets the correct fontsize from list)
///
@mixin typeset($type, $id) {
  $type-map: (
    'display': $typo-display-fontsize-list,
    'normal': $typo-normal-fontsize-list,
    'special': $typo-special-fontsize-list
  );
  $list: map-get($type-map, $type);
  $list-length: length($list);
  @if is-int($id) and $id <= $list-length {
    $_font-size: nth($list, $id);
    $_font-family: if(
      $type == 'display',
      'Teko',
      if(
        $type == 'special',
        if(strip-unit($_font-size) < 1, 'Roboto', 'Teko'),
        if(strip-unit($_font-size) <= 1, 'Roboto', 'Teko')
      )
    );
    $_text-transform: if($type == 'special', uppercase, none);

    @include typo($_font-size, $_font-family, $_text-transform);
  } @else {
    @error "Sorry, but #{$id} is not a valid value for $id, max-value is #{$list-length}";
  }
}
