@mixin checkbox {
  $lineHeight: 2.125rem;
  $fontSize: 36px;
  // strip the units (expecting a px value, but remove so we've just got an int)
  $baseFont: ($fontSize) / ($fontSize * 0 + 1);
  // ensure our base is a rem val
  $base: ($lineHeight) / ($lineHeight * 0 + 1) * 1rem;
  // get our borderwidth in rems
  $borderWidth: (2 / (2 * 0 + 1) / $baseFont) * 1rem;
  $boxSize: $base/1.7;
  .#{$prefix}checkbox {
    .#{$prefix}checkbox__label {
      cursor: pointer;
      color: get('colors.gray.grayDark.hex');
      line-height: $base;
      position: relative;
      display: inline-block;
      padding-left: $base;
      font-family: Roboto, -apple-system, system-ui, BlinkMacSystemFont,
        Segoe UI, Open Sans, Helvetica Neue, Arial, sans-serif;
      margin-bottom: 0;
      &:before,
      &:after {
        box-sizing: border-box;
        line-height: $base;
        content: ' ';
        display: block;
        position: absolute;
        top: $base/4.75;
        left: 0;
        width: $boxSize;
        height: $boxSize;
        border-radius: 0;
      }
      &:before {
        cursor: pointer;
        width: ($boxSize) + $borderWidth * 2;
        height: ($boxSize) + $borderWidth * 2;
        margin: -$borderWidth;
        border: 2px solid get('colors.gray.grayDark.hex');
        border-radius: 0;
      }
    }

    /* hide the input element */
    .#{$prefix}checkbox__input {
      opacity: 0;
      &:disabled + .#{$prefix}checkbox__label {
        cursor: not-allowed;
        color: get('colors.gray.textGray.hex');
      }
      &:disabled + .#{$prefix}checkbox__label:before {
        border: 2px solid get('colors.gray.grayLight.hex');
      }

      @include themify($themes) {
        &:checked + .#{$prefix}checkbox__label:before {
          font-family: zepicons;
          content: '\f112';
          display: inline-block;
          background: get('colors.gray.white.hex');
          line-height: $boxSize + $borderWidth;
          font-size: 1.125rem;
          text-align: center;
          transform: scale(1);
          color: themed('primary');
        }
        &:checked:focus + .#{$prefix}checkbox__label:before {
          box-shadow: 0 0 5px 1px themed('primary');
          background: get('colors.gray.white.hex');
        }
        &:active + .#{$prefix}checkbox__label:before {
          background: themed('hover');
        }
        &:disabled:active + .#{$prefix}checkbox__label:before {
          background: get('colors.gray.white.hex');
        }
      }
    }
  }
}

@include exports('checkbox') {
  @include checkbox;
}
